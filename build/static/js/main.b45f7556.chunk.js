(this["webpackJsonpphonebook-frontend"]=this["webpackJsonpphonebook-frontend"]||[]).push([[0],{375:function(e,t,a){e.exports=a(650)},519:function(e,t,a){},650:function(e,t,a){"use strict";a.r(t);var n=a(76),r=a(0),o=a.n(r),c=a(45),l=a.n(c),s=a(16),i=a(322),u=a(323),m=a(327),d=a(61),f=a.n(d),p=a(92),g=a(326),b=a(30),E=a(22);function v(){var e=Object(b.a)(["\n  subscription {\n    postAdded {\n      ...PostDetails\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function O(){var e=Object(b.a)(["\n  query {\n    me {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return O=function(){return e},e}function j(){var e=Object(b.a)(["\n  mutation googleLogin($code: String) {\n    googleLogin(code: $code) {\n      value\n    }\n  }\n"]);return j=function(){return e},e}function h(){var e=Object(b.a)(["\n  mutation facebookLogin($code: String) {\n    facebookLogin(code: $code) {\n      value\n    }\n  }\n"]);return h=function(){return e},e}function y(){var e=Object(b.a)(["\n  query MorePosts($cursor: String) {\n    morePosts(cursor: $cursor) {\n      cursor\n      posts {\n        ...PostDetails\n      }\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function S(){var e=Object(b.a)(["\n  query  {\n    allPosts {\n      ...PostDetails\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function C(){var e=Object(b.a)(["\n  query {\n    allUsers  {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function w(){var e=Object(b.a)(["\n  subscription {\n    messageAdded {\n      ...MessageDetails\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function k(){var e=Object(b.a)(["\n  query {\n    allMessages {\n      ...MessageDetails\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function M(){var e=Object(b.a)(["\n  mutation addMessage($message: String!) {\n    addMessage(message: $message) {\n      ...MessageDetails\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function L(){var e=Object(b.a)(["\n  mutation addPost($content: String!, $file: Upload) {\n    addPost(content: $content, file: $file) {\n      ...PostDetails\n    }\n  }\n  ","\n"]);return L=function(){return e},e}function N(){var e=Object(b.a)(["\n  mutation deletePost($post: String!) {\n    deletePost(post: $post) {\n      id\n      content\n      user {\n        id\n        username\n      }\n    }\n  }\n"]);return N=function(){return e},e}function P(){var e=Object(b.a)(["\n  mutation unlike($post: String!) {\n    unlike(post: $post) {\n      ...LikeDetails\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function U(){var e=Object(b.a)(["\n  query {\n    profilePictures {\n      imageType\n      imageUrl\n      user {\n        username\n      }\n    }\n  }\n"]);return U=function(){return e},e}function D(){var e=Object(b.a)(["\n  query {\n    files\n  }\n"]);return D=function(){return e},e}function I(){var e=Object(b.a)(["\n  mutation singleUpload($file: Upload!) {\n    singleUpload(file: $file) {\n      imageUrl\n      imageType\n    }\n  }\n"]);return I=function(){return e},e}function R(){var e=Object(b.a)(["\n  query allComments($post: String){\n    allComments(post: $post) {\n      ...CommentDetails\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function x(){var e=Object(b.a)(["\n  mutation addComment($post: String!, $content: String!) {\n    addComment(post: $post, content: $content) {\n      ...CommentDetails\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function T(){var e=Object(b.a)(["\n  mutation addLike($post: String!) {\n    addLike(post: $post) {\n      ...LikeDetails\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function $(){var e=Object(b.a)(["\n  mutation createUser($name: String!, $username: String!, $password: String!, $description: String!, $country: String!, $city: String!, $born: String!) {\n    createUser(name: $name, username: $username, password: $password, description: $description, country: $country, city: $city, born: $born) {\n      username\n      name\n    }\n  }\n"]);return $=function(){return e},e}function B(){var e=Object(b.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password)  {\n      value\n    }\n  }\n"]);return B=function(){return e},e}function A(){var e=Object(b.a)(["\n  fragment MessageDetails on Message {\n    message\n    id\n    date\n    user {\n      name\n      id\n      username\n      profilePicture {\n        imageUrl\n      }\n    }\n  }\n"]);return A=function(){return e},e}function H(){var e=Object(b.a)(["\n  fragment PostDetails on Post {\n    content\n    date\n    time\n    id\n    image {\n      imageUrl\n    }\n    video {\n      videoUrl\n    }\n    user {\n      id\n      username\n      name\n      profilePicture {\n        imageUrl\n      }\n    }\n    comments {\n      content\n      date\n      user {\n        username\n        profilePicture {\n          imageUrl\n        }\n      }\n    }\n    likes {\n      date\n      time\n      id\n      user {\n        id\n        username\n        profilePicture {\n          imageUrl\n        }\n      }\n    }\n  }\n"]);return H=function(){return e},e}function q(){var e=Object(b.a)(["\n  fragment LikeDetails on Like {\n    id\n    date\n    user {\n      id\n      username\n      profilePicture {\n        imageUrl\n      }\n    }\n    post {\n      id\n      content\n    }\n  }\n"]);return q=function(){return e},e}function _(){var e=Object(b.a)(["\n  fragment CommentDetails on Comment {\n    content\n    date\n    id\n    post {\n      id\n    }\n    user {\n      id\n      username\n      profilePicture {\n        imageUrl\n      }\n    }\n  }\n"]);return _=function(){return e},e}function z(){var e=Object(b.a)(["\n  fragment UserDetails on User {\n    name\n    username\n    id\n    description\n    born\n    country\n    city\n    profilePicture {\n      imageUrl\n    }\n    posts {\n      content\n    }\n  }\n"]);return z=function(){return e},e}var G=Object(E.a)(z()),Q=Object(E.a)(_()),F=Object(E.a)(q()),V=Object(E.a)(H()),W=Object(E.a)(A()),Z=Object(E.a)(B()),K=Object(E.a)($()),J=Object(E.a)(T(),F),Y=Object(E.a)(x(),Q),X=Object(E.a)(R(),Q),ee=Object(E.a)(I()),te=(Object(E.a)(D()),Object(E.a)(U()),Object(E.a)(P(),F)),ae=Object(E.a)(N()),ne=Object(E.a)(L(),V),re=Object(E.a)(M(),W),oe=Object(E.a)(k(),W),ce=Object(E.a)(w(),W),le=Object(E.a)(C(),G),se=Object(E.a)(S(),V),ie=(Object(E.a)(y(),V),Object(E.a)(h())),ue=Object(E.a)(j()),me=Object(E.a)(O(),G),de=Object(E.a)(v(),V),fe=a(670),pe=a(656),ge=a(111),be=a(35),Ee=a(46),ve=a(196),Oe=a(226),je=a.n(Oe),he=ve.stringify({client_id:0xedf6fb92cb49,redirect_uri:"http://localhost:3000/",scope:["email","user_friends","user_birthday","user_hometown","user_location"].join(","),response_type:"code",auth_type:"rerequest",display:"popup"}),ye=ve.stringify({client_id:"769250645795-gqedodb607rontuq1bbjmsiic0a9jai1.apps.googleusercontent.com",redirect_uri:"http://localhost:3000/",scope:"profile email https://www.googleapis.com/auth/user.addresses.read https://www.googleapis.com/auth/user.birthday.read",response_type:"code",access_type:"offline",prompt:"consent"}),Se="https://www.facebook.com/v4.0/dialog/oauth?".concat(he),Ce="https://accounts.google.com/o/oauth2/v2/auth?".concat(ye),we=ve.parse(window.location.search),ke=function(e){var t=e.setToken,a=e.refetchUser,n=e.setError,c=Object(r.useState)(""),l=Object(s.a)(c,2),i=l[0],u=l[1],m=Object(r.useState)(""),d=Object(s.a)(m,2),b=d[0],E=d[1],v=Object(be.g)(),O=Object(g.a)(Z,{onError:function(e){n(e.graphQLErrors[0].message)}}),j=Object(s.a)(O,2),h=j[0],y=j[1],S=Object(g.a)(ie,{onError:function(e){console.log(e.graphQLErrors[0].message)}}),C=Object(s.a)(S,2),w=C[0],k=C[1],M=Object(g.a)(ue,{onError:function(e){console.log(e.graphQLErrors[0].message)}}),L=Object(s.a)(M,2);L[0],L[1];Object(r.useEffect)((function(){if(k.data){var e=k.data.facebookLogin.value;t(e),localStorage.setItem("user-token",e),a(),v.push("/")}}),k.data),Object(r.useEffect)((function(){we.code&&w({variables:{code:we.code}})}),[]),Object(r.useEffect)((function(){if(y.data){var e=y.data.login.value;t(e),localStorage.setItem("user-token",e),a(),v.push("/")}}),[y.data]);var N=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(i,b),h({variables:{username:i,password:b}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(fe.a,{onSubmit:N},o.a.createElement(fe.a.Group,{controlId:"formBasicUsername"},o.a.createElement(fe.a.Label,null,"Username"),o.a.createElement(fe.a.Control,{type:"text",placeholder:"Enter username",onChange:function(e){var t=e.target;return u(t.value)}})),o.a.createElement(fe.a.Group,{controlId:"formBasicPassword"},o.a.createElement(fe.a.Label,null,"Password"),o.a.createElement(fe.a.Control,{type:"password",placeholder:"Password",onChange:function(e){var t=e.target;return E(t.value)}})),o.a.createElement(fe.a.Group,{controlId:"formBasicCheckbox"},o.a.createElement(Ee.b,{to:"/signup"},"Sign Up")),o.a.createElement(pe.a,{variant:"primary",type:"submit",primary:!0},"Login"),o.a.createElement("p",{className:"or"},o.a.createElement("span",null,"OR")),o.a.createElement(pe.a,{href:Se,color:"facebook",className:"fbLoginButton"},o.a.createElement(ge.a,{name:"facebook"})," Continue with Facebook"),o.a.createElement(pe.a,{href:Ce,color:"google",className:"fbLoginButton"},o.a.createElement(ge.a,{name:"google"})," Sign in with Google")))},Me=(a(519),a(668)),Le=a(665),Ne=a(34),Pe=a(331),Ue=a(676),De=a(346),Ie=a.n(De),Re=(a(520),function(e){var t=e.setError,a=e.setToken,n=e.refetchUser,c=Object(r.useState)([]),l=Object(s.a)(c,2),i=l[0],u=(l[1],Object(be.g)()),m=Object(g.a)(K,{refetchQueries:[{query:le}],onError:function(e){t(e.graphQLErrors[0].message)}}),d=Object(s.a)(m,2),f=d[0],p=d[1],b=Object(g.a)(Z,{onError:function(e){t(e.graphQLErrors[0].message)}}),E=Object(s.a)(b,2),v=E[0],O=E[1],j=Object(r.useState)(""),h=Object(s.a)(j,2),y=h[0],S=h[1],C=Object(r.useState)(""),w=Object(s.a)(C,2),k=w[0],M=w[1],L=Object(r.useState)(""),N=Object(s.a)(L,2),P=N[0],U=N[1],D=Object(r.useState)(""),I=Object(s.a)(D,2),R=I[0],x=I[1],T=Object(r.useState)(""),$=Object(s.a)(T,2),B=$[0],A=$[1],H=Object(r.useState)(""),q=Object(s.a)(H,2),_=q[0],z=q[1],G=Object(r.useState)(""),Q=Object(s.a)(G,2),F=Q[0],V=Q[1],W=Object(r.useState)(new Date),J=Object(s.a)(W,2),Y=J[0],X=J[1];Object(r.useEffect)((function(){je.a.get("https://restcountries.eu/rest/v2/all").then((function(e){e.data.forEach((function(e){i.push({text:e.name,flag:e.alpha2Code.toLowerCase(),key:e.alpha2Code.toLowerCase(),value:e.name})}))}))}),[]),Object(r.useEffect)((function(){p.data&&v({variables:{username:P,password:R}})}),[p.data]),Object(r.useEffect)((function(){if(O.data){var e=O.data.login.value;a(e),localStorage.setItem("user-token",e),n(),u.push("/")}}),[O.data]);return o.a.createElement(fe.a,{onSubmit:function(e){e.preventDefault();var t=y+" "+k,a=Y.toString();console.log(typeof a),f({variables:{name:t,username:P,password:R,description:B,city:_,country:F,born:a}})}},o.a.createElement(fe.a.Row,null,o.a.createElement(fe.a.Group,{as:Pe.a,controlId:"formBasicFirstName"},o.a.createElement(fe.a.Label,null,"First Name"),o.a.createElement(fe.a.Control,{required:!0,type:"text",placeholder:"First name",onChange:function(e){var t=e.target;return S(t.value)}})),o.a.createElement(fe.a.Group,{as:Pe.a,controlId:"formBasicLastName"},o.a.createElement(fe.a.Label,null,"Last Name"),o.a.createElement(fe.a.Control,{required:!0,type:"text",placeholder:"Last name",onChange:function(e){var t=e.target;return M(t.value)}}))),o.a.createElement(fe.a.Group,{controlId:"formBasicUsername"},o.a.createElement(fe.a.Label,null,"Username"),o.a.createElement(fe.a.Control,{required:!0,type:"text",placeholder:"Enter username",onChange:function(e){var t=e.target;return U(t.value)}})),o.a.createElement(fe.a.Group,{controlId:"exampleForm.ControlTextarea1"},o.a.createElement(fe.a.Label,null,"Description"),o.a.createElement(fe.a.Control,{required:!0,as:"textarea",rows:"2",placeholder:"Description...",onChange:function(e){var t=e.target;return A(t.value)}})),o.a.createElement(fe.a.Row,null,o.a.createElement(fe.a.Group,{as:Pe.a,controlId:"formGridCity"},o.a.createElement(fe.a.Label,null,"City"),o.a.createElement(fe.a.Control,{required:!0,placeholder:"City",onChange:function(e){var t=e.target;return z(t.value)}})),o.a.createElement(fe.a.Group,{autoComplete:"off",as:Pe.a,controlId:"formGridState"},o.a.createElement(fe.a.Label,null,"Country"),o.a.createElement(Ue.a,{placeholder:"Select Country",onChange:function(e,t){var a=t.value;return V(a)},fluid:!0,search:!0,selection:!0,options:i}))),o.a.createElement(fe.a.Group,{controlId:"exampleForm.ControlTextarea1"},o.a.createElement(fe.a.Label,null,"Date of birth"),o.a.createElement(Ie.a,{required:!0,selected:Y,onChange:function(e){X(e)},dateFormat:"dd/MM/yyyy"})),o.a.createElement(fe.a.Group,{controlId:"formBasicPassword"},o.a.createElement(fe.a.Label,null,"Password"),o.a.createElement(fe.a.Control,{required:!0,type:"password",placeholder:"Password",onChange:function(e){var t=e.target;return x(t.value)}})),o.a.createElement(fe.a.Group,{controlId:"formBasicCheckbox"},o.a.createElement(Ee.b,{to:"/login"},"Login")),o.a.createElement(Le.a,{variant:"primary",type:"submit"},"Sign Up"))}),xe=a(312),Te=a(669),$e=a(361),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_POSTS":var a=t.data.data.allPosts,r=a.slice(0);return r.sort((function(e,t){return-(new Date(e.date).getTime()-new Date(t.date).getTime())})),r;case"ADD_LIKE":var o=t.like.post.id,c=e.find((function(e){return e.id===o})),l=Object(n.a)(Object(n.a)({},c),{},{likes:c.likes.concat(t.like)});return console.log("New post",l),e.map((function(e){return e.id!==l.id?e:l}));case"REMOVE_LIKE":var s=t.like.post.id,i=e.find((function(e){return e.id===s})),u=Object(n.a)(Object(n.a)({},i),{},{likes:i.likes.filter((function(e){return e.id!==t.like.id}))});return e.map((function(e){return e.id!==u.id?e:u}));case"REMOVE_POST":var m=e.find((function(e){return e.id===t.post.id})),d=e.filter((function(e){return e.id!==m.id}));return console.log("POSTS",d),d;case"ADD_COMMENT":console.log("NEw comment",t.comment);var f=e.find((function(e){return e.id===t.comment.post.id})),p=Object(n.a)(Object(n.a)({},f),{},{comments:f.comments.concat(t.comment)});return e.map((function(e){return e.id!==t.comment.post.id?e:p}));case"ADD_POST":return[].concat(Object($e.a)(e),[t.data])}return e},Ae=a(674),He=a(671),qe=function(e){var t=new Date(e.date),a=new Date,n=new Date(a-t),r=Math.floor(n/864e5),o=n.getMonth(),c=n.getFullYear()-1970,l=Math.floor(n/60/60/1e3),s=n.getMinutes(),i=n.getSeconds();return i<30&&s<1?"Just now":i<60&&s<1?1===i?"1 second ago":"".concat(i," seconds ago"):s<60&&l<1?1===s?"1 minute ago":"".concat(s," minutes ago"):l<24&&r<1?1===l?"1 hour ago":"".concat(l," hours ago"):r<30&&o<1?1===r?"1 day ago":"".concat(r," days ago"):o<12&&c<1?1===o?"1 month ago":"".concat(o," months ago"):1===c?"1 year ago":"".concat(c," years ago")},_e=o.a.forwardRef((function(e,t){var a=e.showCommentsModal,n=e.setShowCommentsModal,c=e.post,l=e.setMessageHeader,i=e.emptyMessageHeader,u=(Object(Ne.b)(),Object(r.useState)("")),m=Object(s.a)(u,2),d=m[0],f=m[1],p=Object(r.useState)([]),b=Object(s.a)(p,2),E=b[0],v=b[1],O=Object(r.useState)(!1),j=Object(s.a)(O,2),h=j[0],y=j[1],S=Object(r.useState)("Add Comment"),C=Object(s.a)(S,2),w=C[0],k=C[1],M=o.a.createRef(),L=Object(xe.a)(X,{notifyOnNetworkStatusChange:!0}),N=Object(s.a)(L,2),P=N[0],U=N[1],D=U.data,I=U.refetch,R=U.loading,x=U.networkStatus,T=Object(g.a)(Y,{onError:function(e){l(e.graphQLErrors[0].message),i(),y(!1),k("Add Comment")}}),$=Object(s.a)(T,2),B=$[0],A=$[1];Object(r.useEffect)((function(){D&&(v(D.allComments),R&&4===x||H())}),[D]),Object(r.useEffect)((function(){if(A.data){console.log("COMMENT DATA",A.data),y(!1);A.data.addComment;I(),k("Add Comment")}}),[A.data]);var H=function(){M.current.scrollIntoView({behavior:"smooth"})};Object(r.useImperativeHandle)(t,(function(){return{setComments:v,getComments:P,scrollToBottom:H}}));return a&&c?o.a.createElement(Te.a,{show:a,onHide:function(){n(!1)},"aria-labelledby":"example-modal-sizes-title-lg"},o.a.createElement(Te.a.Header,{closeButton:!0},o.a.createElement(Te.a.Title,{id:"example-modal-sizes-title-lg"},"Comments")),o.a.createElement(Te.a.Body,null,o.a.createElement(Ae.a.Group,{className:"commentsContainer"},R?o.a.createElement("h3",null,"Loading comments..."):4===x?o.a.createElement("h3",null,"Refetching comments..."):o.a.createElement("div",{className:"comment-group",id:"comment-group"},0===E.length?o.a.createElement("h3",{className:"noCommentsLabel"},"No comments yet."):null,E.map((function(e){return o.a.createElement(Ae.a,null,e.user.profilePicture?o.a.createElement(Ae.a.Avatar,{src:e.user.profilePicture.imageUrl}):o.a.createElement(Ae.a.Avatar,{as:"Icon",name:"user",size:"large"}),o.a.createElement(Ae.a.Content,null,o.a.createElement(Ae.a.Author,{as:"a",href:"/users/".concat(e.user.id)},e.user.username),o.a.createElement(Ae.a.Metadata,null,o.a.createElement("div",null,qe(e))),o.a.createElement(Ae.a.Text,{className:"comment-text"},e.content)))})),o.a.createElement("div",{ref:M}))),o.a.createElement(He.a,{onSubmit:function(e){e.preventDefault(),f(""),e.target[0].value="",y(!0),k("Commenting..."),B({variables:{post:c.id,content:d}})}},o.a.createElement(He.a.TextArea,{onChange:function(e){f(e.target.value),console.log(d),console.log()},placeholder:"Write a comment..."}),o.a.createElement(pe.a,{content:w,labelPosition:"left",icon:"edit",primary:!0,disabled:h})))):null})),ze=a(673),Ge=function(e){var t=e.showLikesModal,a=e.setShowLikesModal,n=e.post;Object(Ne.b)();return t&&n?o.a.createElement(Te.a,{show:t,onHide:function(){return a(!1)},"aria-labelledby":"example-modal-sizes-title-lg"},o.a.createElement(Te.a.Header,{closeButton:!0},o.a.createElement(Te.a.Title,{id:"example-modal-sizes-title-lg"},"Likes")),o.a.createElement(Te.a.Body,null,o.a.createElement(ze.a,{className:"likes-group"},n.likes.map((function(e){return o.a.createElement(ze.a.Event,null,e.user.profilePicture?o.a.createElement(ze.a.Label,{image:e.user.profilePicture.imageUrl}):o.a.createElement(ge.a,{name:"user",size:"large"}),o.a.createElement(ze.a.Content,null,o.a.createElement(ze.a.Summary,null,e.user.username)))}))))):null},Qe=a(679),Fe=a(667),Ve=a(352),We=o.a.forwardRef((function(e,t){var a=e.p,n=e.isVideoPlaying,c=e.setIsVideoPlaying,l=e.setSelectedPost,i=e.setShowLikesModal,u=e.setShowCommentsModal,m=e.setMessageHeader,d=e.emptyMessageHeader,f=e.commentsRef,p=e.user,b=Object(Ne.b)(),E=Object(r.useState)(!1),v=Object(s.a)(E,2),O=v[0],j=v[1],h=Object(g.a)(J,{refetchQueries:[{query:se}],onError:function(e){m(e.graphQLErrors[0].message),d()}}),y=Object(s.a)(h,2),S=y[0],C=y[1],w=Object(g.a)(te,{refetchQueries:[{query:se}],onError:function(e){m(e.graphQLErrors[0].message),d()}}),k=Object(s.a)(w,2),M=k[0],L=k[1],N=Object(g.a)(ae,{refetchQueries:[{query:se}],onError:function(e){m(e.graphQLErrors[0].message),d()}}),P=Object(s.a)(N,2),U=P[0],D=P[1],I=Object(r.useRef)(null),R=Object(r.useRef)(null),x=Object(r.useRef)(null),T=Object(r.useRef)(null);Object(r.useEffect)((function(){D.data&&(m("Your post has been deleted"),b({type:"REMOVE_POST",post:D.data.deletePost}),d())}),[D.data]),Object(r.useEffect)((function(){C.data&&(b(function(e){return{type:"ADD_LIKE",like:e}}(C.data.addLike)),I.current&&(I.current.disabled=!1))}),[C.data]),Object(r.useEffect)((function(){L.data&&(b(function(e){return{type:"REMOVE_LIKE",like:e}}(L.data.unlike)),R.current&&(R.current.disabled=!1))}),[L.data]),Object(r.useEffect)((function(){T.current&&O&&!n&&(T.current.play(),c(!0))}),[n]);if(!p)return null;console.log(n);var $,B=function(e){return console.log("Post likes, ",e.likes),0===e.likes.filter((function(e){return e.user.username===p.username})).length?o.a.createElement(Le.a,{ref:I,variant:"primary",onClick:function(t){var a=t.target;!function(e,t){S({variables:{post:t.id}})}(0,e),a.disabled=!0}},"Like"):o.a.createElement(Le.a,{ref:R,variant:"primary",onClick:function(t){var a=t.target;!function(e,t){M({variables:{post:t.id}})}(0,e),a.disabled=!0}},"Unlike")},A=function(e,t){var a=e;return"https://"!==e.substr(0,8)&&"http://"!==e.substr(0,7)&&(a="https://"+e),t?"<a href=".concat(a,' target="_blank">').concat(e,"</a>"):o.a.createElement("a",{href:a,rel:"noopener noreferrer",target:"_blank"},e," ")};return o.a.createElement("div",{className:"card-content"},o.a.createElement(Qe.a,{className:"post-card"},o.a.createElement(Qe.a.Header,{className:"card-header"},o.a.createElement(Fe.a,null,o.a.createElement(Pe.a,null,qe(a)),o.a.createElement(Pe.a,{xs:5}),o.a.createElement(Pe.a,null))),o.a.createElement(Qe.a.Body,null,o.a.createElement(Qe.a.Title,null,a.user.profilePicture?o.a.createElement("img",{className:"profile-picture",src:a.user.profilePicture.imageUrl}):o.a.createElement(ge.a,{name:"user",size:"small"})," ",o.a.createElement(Ee.b,{className:"userLink",to:"/users/".concat(a.user.id)},a.user.username)),o.a.createElement(Qe.a.Text,{className:"postContent"},function(e){var t=new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?([^ ])+");if(e.length>200){var a=e.substr(0,200).split(" ");return a.pop(),console.log(a.length),o.a.createElement("div",null,a.map((function(e,n){return e.match(t)?A(e,!1):n===a.length-1?e+"":e+" "})),"... ",o.a.createElement("button",{className:"seeMoreButton",onClick:function(a){a.target.parentNode.innerHTML="<div> ".concat(e.split(" ").map((function(e,a){return e.match(t)?A(e,!0):e+" "})).join(" "),"</div>")}},"See more"))}return o.a.createElement("div",null,e.split(" ").map((function(e,a){return e.match(t)?A(e,!1):e+" "})))}(a.content))),o.a.createElement("div",{className:"cardImageContainer"},a.image?o.a.createElement("a",{href:a.image.imageUrl}," ",o.a.createElement(Qe.a.Img,{className:"card-image",variant:"top",src:a.image.imageUrl})):null,a.video?o.a.createElement(Ve.a,{onEnter:function(){j(!0),n||(T.current.play(),c(!0))},onLeave:function(){j(!1),T.current.pause(),c(!1)}},o.a.createElement("video",{ref:T,className:"post-video",controls:!0,loop:!0},o.a.createElement("source",{src:a.video.videoUrl,type:"video/mp4"}),o.a.createElement("source",{src:a.video.videoUrl,type:"video/ogg"}),o.a.createElement("source",{src:a.video.videoUrl,type:"video/webm"}),o.a.createElement("source",{src:a.video.videoUrl,type:"video/mov"}))):null),o.a.createElement(Qe.a.Body,{className:"cardActions"},o.a.createElement(Le.a,{variant:"link",onClick:function(){l(a),f.current.getComments({variables:{post:a.id}}),u(!0)}},a.comments.length," comments"),o.a.createElement(Le.a,{variant:"link",onClick:function(){l(a),i(!0)}},a.likes.length," likes"),($=a).user.username!==p.username?o.a.createElement("div",{className:"post-action-button"},B($),o.a.createElement(Le.a,{className:"margin-left-10",variant:"primary",onClick:function(){l($),f.current.getComments({variables:{post:$.id}}),u(!0)}},"Comment")):o.a.createElement(Le.a,{ref:x,onClick:function(){return function(e){window.confirm("Are you sure you want to delete this post?")&&(U({variables:{post:e.id}}),x.current&&(x.current.disabled=!0,x.current.textContent="Deleting..."),m("Deleting post..."))}($)},className:"ui negative button"},"Delete"))))})),Ze=function(e){e.logout,e.setMessageContent;var t=e.setMessageHeader,a=e.emptyMessageHeader,n=(Object(Ne.b)(),Object(Ne.c)((function(e){return e.posts}))),c=Object(Ne.c)((function(e){return e.user})),l=Object(r.useState)(null),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(r.useState)(!1),f=Object(s.a)(d,2),p=f[0],g=f[1];console.log("USER IN STATE",c);var b=Object(r.useState)(!1),E=Object(s.a)(b,2),v=E[0],O=E[1],j=Object(r.useState)(!1),h=Object(s.a)(j,2),y=h[0],S=h[1],C=o.a.createRef();return console.log("Post2",u),console.log("SHow likes modal",v),o.a.createElement("div",null,o.a.createElement(Ge,{showLikesModal:v,setShowLikesModal:O,post:u}),o.a.createElement(_e,{setMessageHeader:t,emptyMessageHeader:a,showCommentsModal:y,setShowCommentsModal:S,post:u,ref:C}),o.a.createElement("div",{className:"cards"},n.map((function(e){return o.a.createElement(We,{p:e,isVideoPlaying:p,setIsVideoPlaying:g,setSelectedPost:m,setShowLikesModal:O,setShowCommentsModal:S,setMessageHeader:t,emptyMessageHeader:a,commentsRef:C,user:c})}))))},Ke=function(e){var t=e.setImage,a=e.image;return o.a.createElement("div",null,o.a.createElement("input",{type:"file",value:a?"C:\\fakepath\\".concat(a.name):"",onChange:function(e){var a=e.target,n=a.validity,r=Object(s.a)(a.files,1)[0];return n.valid&&t(r)}}))},Je=a(190),Ye=function(e){var t=e.showModal,a=e.setShowModal,n=(e.setMessageContent,e.setMessageHeader),c=e.emptyMessageHeader,l=Object(r.useState)(""),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(r.useState)(""),b=Object(s.a)(d,2),E=b[0],v=b[1],O=Object(g.a)(ne,{onError:function(e){n(e.graphQLErrors[0].message),c()}}),j=Object(s.a)(O,2),h=j[0],y=j[1];Object(r.useEffect)((function(){y.data&&(console.log("POSt added",y.data.addPost),n("Post added successfully!"),c())}),[y.data]);var S=Object(Ne.c)((function(e){return e.user})),C=function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("originalFile instanceof Blob",t instanceof Blob),console.log("originalFile size ".concat(t.size/1024/1024," MB")),a={maxSizeMB:1,useWebWorker:!0},e.prev=3,e.next=6,Object(Je.a)(t,a);case 6:n=e.sent,console.log("compressedFile instanceof Blob",n instanceof Blob),console.log("compressedFile size ".concat(n.size/1024/1024," MB")),h({variables:{content:u,file:n}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("ERROR compressing file",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();if(t&&S){var w=S.name.split(" ")[0],k="What is on your mind, ".concat(w,"?");return o.a.createElement(Te.a,{size:"lg",show:t,onHide:function(){return a(!1)},"aria-labelledby":"example-modal-sizes-title-lg"},o.a.createElement(Te.a.Header,{closeButton:!0},o.a.createElement(Te.a.Title,{id:"example-modal-sizes-title-lg"},"Add Post")),o.a.createElement(Te.a.Body,null,o.a.createElement(fe.a,{onSubmit:function(e){var t;e.preventDefault(),E?!1===((t=E)&&("image"===t.type.split("/")[0]||"video"===t.type.split("/")[0]))?(n("Please include image or video"),c()):(a(!1),"image"===E.type.split("/")[0]?C(E):h({variables:{content:u,file:E}}),n("Adding post..."),v("")):(h({variables:{content:u,file:null}}),a(!1),n("Adding post..."))}},o.a.createElement(fe.a.Group,{controlId:"formBasicEmail"},o.a.createElement(fe.a.Label,null,"Content"),o.a.createElement(fe.a.Control,{required:!0,as:"textarea",rows:"2",placeholder:k,onChange:function(e){var t=e.target.value;m(t),t.substr(0,t.length).match(/(?:^|\r?\n\s*)$/)&&t.substr(t.length).match(/^(?:\s*\r?\n|$)/)&&console.log("empty")}})),o.a.createElement(fe.a.Group,{controlId:"formImage"},o.a.createElement(fe.a.Label,null,"Image"),o.a.createElement(Ke,{setImage:v,image:E}),E?o.a.createElement("div",{className:"addpost-image-container"},"image"===E.type.split("/")[0]?o.a.createElement("img",{className:"addpost-image",src:URL.createObjectURL(E)}):null,"video"===E.type.split("/")[0]?o.a.createElement("video",{controls:!0,className:"addpost-image"},o.a.createElement("source",{src:URL.createObjectURL(E),type:"video/mp4"}),o.a.createElement("source",{src:URL.createObjectURL(E),type:"video/ogg"}),o.a.createElement("source",{src:URL.createObjectURL(E),type:"video/webm"})):null,o.a.createElement(pe.a,{icon:"close",onClick:function(){return v("")}})):null),o.a.createElement(pe.a,{primary:!0,type:"submit",disabled:""===u},"Submit"))))}return null},Xe=a(666),et=a(677),tt=a(359),at=function(e){e.logout;var t=Object(Ne.c)((function(e){return e.users})),a=Object(r.useState)(t.filter((function(e){return""!==e.id}))),n=Object(s.a)(a,2),c=n[0],l=n[1],i=Object(r.useState)([]),u=Object(s.a)(i,2),m=u[0],d=u[1];console.log("USers ",c),c.filter((function(e){return"Saska Rauhala"===e.name}));return console.log("Users",t),Object(r.useEffect)((function(){0===m.length||1===m.length&&""===m[0]?l(t.filter((function(e){return""!==e.id}))):l(t.filter((function(e){return m.some((function(t){return""!==t?-1!==e.name.toLowerCase().indexOf(t):null}))})).filter((function(e){return m.some((function(t){return""!==t?-1!==e.name.toLowerCase().indexOf(t):null}))})))}),[m]),o.a.createElement("div",{className:"users-container"},m.length,o.a.createElement("div",{className:"search-container"},o.a.createElement(Xe.a,{icon:"search",placeholder:"Search users...",id:"search-input",onChange:function(e){d(e.target.value.toLowerCase().split(" "))}})),o.a.createElement(Fe.a,{className:"users-row"},c.map((function(e,t){return o.a.createElement(Pe.a,{sm:12,md:6,lg:4,className:"user-card"},o.a.createElement(et.a,{className:"users-card-content"},e.profilePicture?o.a.createElement(tt.a,{src:e.profilePicture.imageUrl,wrapped:!0,ui:!1}):null,o.a.createElement(et.a.Content,null,o.a.createElement(et.a.Header,null,o.a.createElement(Ee.b,{className:"userLink",to:"/users/".concat(e.id)},e.name)),o.a.createElement(et.a.Meta,null,o.a.createElement("span",{className:"date"},"@",e.username)),o.a.createElement(et.a.Description,{className:"card-description"},e.description)),o.a.createElement(et.a.Content,{extra:!0},e.posts.length," ",1===e.posts.length?"post":"posts")))}))))},nt=(a(596),function(e){var t=e.user,a=Object(i.a)(oe),n=Object(r.useState)(""),c=Object(s.a)(n,2),l=c[0],u=c[1],m=Object(g.a)(re,{onError:function(e){console.log(e.graphQLErrors[0].message)}}),d=Object(s.a)(m,2),f=d[0],p=d[1],b=o.a.createRef();console.log("username",t);var E=function(){b.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};Object(r.useEffect)((function(){p.data&&u("")}),[p.data]),Object(r.useEffect)((function(){a.data&&null!==b.current&&(E(),console.log("GROUP",b.current))}),[a.data]),Object(r.useEffect)((function(){b.current&&(E(),console.log("Message ge",b.current))}));return a.loading?o.a.createElement("h1",null,"Loading messages..."):t&&null!==b?o.a.createElement("div",null,o.a.createElement(Ae.a.Group,null,o.a.createElement("div",{className:"messageContainer"},a.data.allMessages.map((function(e,a){return o.a.createElement(Ae.a,{className:t.username===e.user.username?"rightMessage justifyEnd":"leftMessage justifyStart"},o.a.createElement("div",{className:t.username===e.user.username?"messageBox messageBoxBlue colorWhite":"messageBox"},o.a.createElement(Ae.a.Avatar,{src:e.user.profilePicture?e.user.profilePicture.imageUrl:null}),o.a.createElement(Ae.a.Content,{className:"pl-5"},o.a.createElement(Ae.a.Author,{as:"a"},e.user.name),o.a.createElement(Ae.a.Metadata,null,o.a.createElement("div",null,qe(e))),o.a.createElement(Ae.a.Text,null,e.message))))})),o.a.createElement("div",{ref:b})),o.a.createElement(He.a,{reply:!0,onSubmit:function(e){e.preventDefault(),f({variables:{message:l}})}},o.a.createElement(He.a.TextArea,{className:"messageTextarea",onChange:function(e){var t=e.target;return u(t.value)},placeholder:"Add message...",value:l}),o.a.createElement(pe.a,{disabled:!l,content:"Add Message",labelPosition:"left",icon:"edit",primary:!0})))):null}),rt=a(675),ot=function(e){var t=e.setMessageHeader,a=e.emptyMessageHeader,n=Object(g.a)(ee,{refetchQueries:[{query:me}],onError:function(e){t(e.graphQLErrors[0].message),a()}}),c=Object(s.a)(n,2),l=c[0],i=c[1],u=Object(r.useState)(""),m=Object(s.a)(u,2),d=m[0],b=m[1],E=Object(r.useState)(""),v=Object(s.a)(E,2),O=v[0],j=v[1],h=Object(r.useState)(""),y=Object(s.a)(h,2),S=y[0],C=y[1],w=Object(r.useState)(""),k=Object(s.a)(w,2),M=k[0],L=k[1],N=Object(be.h)().id,P=Object(Ne.c)((function(e){return e.users})),U=Object(Ne.c)((function(e){return e.user})),D=P.find((function(e){return e.id===N})),I=Object(r.useState)(""),R=Object(s.a)(I,2),x=R[0],T=R[1];Object(r.useEffect)((function(){i.data&&(t("Profile picture changed"),a())}),[i.data]),Object(r.useEffect)((function(){b(U.name.split(" ")[0]),j(U.name.split(" ")[1]),C(U.username),L(U.description)}),[U]);var $=function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("originalFile instanceof Blob",t instanceof Blob),console.log("originalFile size ".concat(t.size/1024/1024," MB")),a={maxSizeMB:1,useWebWorker:!0},e.prev=3,e.next=6,Object(Je.a)(t,a);case 6:n=e.sent,console.log("compressedFile instanceof Blob",n instanceof Blob),console.log("compressedFile size ".concat(n.size/1024/1024," MB")),l({variables:{file:n}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("ERROR compressing file",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return D?o.a.createElement("div",null,o.a.createElement(rt.a.Group,null,o.a.createElement(rt.a,null,o.a.createElement("div",{className:"profilePictureContainer"},D.profilePicture?o.a.createElement(rt.a.Image,{size:"medium",src:x?URL.createObjectURL(x):D.profilePicture.imageUrl}):o.a.createElement(ge.a,{name:"user",size:"small"}),D.id===U.id?o.a.createElement(pe.a,{icon:"photo",onClick:function(e){e.target;var t=document.getElementById("profilePictureInput");console.log(t),t.click()}}):null,o.a.createElement("input",{id:"profilePictureInput",type:"file",accept:"image/*",onChange:function(e){var a=e.target,n=a.validity,r=Object(s.a)(a.files,1)[0];n.valid&&$(r)&&T(r)&&t("Changing profile picture...")}})),o.a.createElement(rt.a.Content,{className:"profileContent"},o.a.createElement(rt.a.Header,null,D.name," | @",D.username),o.a.createElement(rt.a.Meta,{className:"profileMeta"},o.a.createElement("p",{className:"stay"},qe({date:D.born}).split(" ").map((function(e,t){return t<2?e+" ":null}))," old"),o.a.createElement("p",null,"Lives in ",D.city,", ",D.country)),o.a.createElement(rt.a.Description,{className:"profileDescription"},D.description)))),D.id===U.id?o.a.createElement(He.a,null,o.a.createElement("h2",null,"Personal information"),o.a.createElement(He.a.Group,{widths:"equal"},o.a.createElement(He.a.Input,{fluid:!0,label:"First name",value:d,onChange:function(e){var t=e.target;return b(t.value)},placeholder:"First name"}),o.a.createElement(He.a.Input,{fluid:!0,label:"Last name",value:O,onChange:function(e){var t=e.target;return j(t.value)},placeholder:"Last name"}),o.a.createElement(He.a.Input,{fluid:!0,label:"Username",value:S,onChange:function(e){var t=e.target;return C(t.value)},placeholder:"Last name"})),o.a.createElement(He.a.TextArea,{className:"descriptionEdit",label:"Description",value:M,onChange:function(e){var t=e.target;return L(t.value)},placeholder:"Your description..."}),o.a.createElement(He.a.Button,{primary:!0},"Save")):null):o.a.createElement("h1",null,"This user was not found")},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USER":return t.data.me;case"CLEAR_USER":return null}return e},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return console.log("data in init users",t.data),t.data.data.allUsers}return e},st=a(678),it=function(){var e=Object(Ne.b)(),t=Object(Ne.c)((function(e){return e.user})),a=Object(i.a)(le),n=Object(i.a)(se),c=Object(r.useState)(null),l=Object(s.a)(c,2),d=l[0],f=l[1],p=Object(u.a)(),g=Object(r.useState)(null),b=Object(s.a)(g,2),E=b[0],v=b[1],O=Object(r.useState)(!1),j=Object(s.a)(O,2),h=j[0],y=j[1],S=Object(r.useState)(""),C=Object(s.a)(S,2),w=C[0],k=C[1],M=Object(r.useState)(""),L=Object(s.a)(M,2),N=L[0],P=L[1],U=Object(r.useState)(!1),D=Object(s.a)(U,2),I=D[0],R=D[1],x=Object(i.a)(me,{notifyOnNetworkStatusChange:!0}),T=x.loading,$=(x.error,x.data),B=x.refetch,A=x.networkStatus;Object(m.a)(de,{onSubscriptionData:function(e){var a=e.subscriptionData;console.log("ADDED POST",a);var n=a.data.postAdded;n.user.username!==t.username?R(!0):function(e){var t,a,n=p.readQuery({query:se});t=n.allPosts,a=e,t.map((function(e){return e.id})).includes(a.id)||p.writeQuery({query:se,data:{allPosts:n.allPosts.concat(e)}})}(n)}}),Object(m.a)(ce,{onSubscriptionData:function(e){var t=e.subscriptionData;console.log("ADDED MESSAGE",t),function(e){var t,a,n=p.readQuery({query:oe});t=n.allMessages,a=e,t.map((function(e){return e.id})).includes(a.id)||p.writeQuery({query:oe,data:{allMessages:n.allMessages.concat(e)}})}(t.data.messageAdded)}}),document.title="Social Media App";var H=function(){setTimeout((function(){k("")}),3e3)},q=function(){B()};if(Object(r.useEffect)((function(){var e=localStorage.getItem("user-token");e&&f(e)}),[]),4===A)return o.a.createElement("div",{className:"loader"});if(a.loading||T||n.loading)return o.a.createElement("div",{className:"loader"});console.log("MORE POSTS",n),e(function(e){return{type:"INIT_POSTS",data:e}}(n)),e(function(e){return{type:"INIT_USERS",data:e}}(a)),e(function(e){return{type:"INIT_USER",data:e}}($));var _=function(e){v(e),console.log("MME"),setTimeout((function(){v(null)}),5e3)},z=function(){n.refetch(),R(!1)},G=function(e){var t=e.errorMessage;return t?o.a.createElement(Me.a,{variant:"danger"},t):null},Q=function(){f(null),e({type:"CLEAR_USER"}),localStorage.clear(),p.resetStore()};return o.a.createElement("div",{className:"container"},o.a.createElement(Ee.a,null,o.a.createElement(Ee.b,{className:"homeLink",to:"/"},o.a.createElement("h1",{className:"center"},"Social Media App")),o.a.createElement(G,{errorMessage:E}),o.a.createElement(Ye,{showModal:h,setShowModal:y,setMessageContent:P,setMessageHeader:k,emptyMessageHeader:H}),t&&"http://localhost:3000/login"!==window.location.href?o.a.createElement("div",{className:"homepage-actions"},t?o.a.createElement("p",null,t.profilePicture?o.a.createElement("img",{src:t.profilePicture.imageUrl,className:"profile-picture"}):o.a.createElement(ge.a,{name:"user",size:"small"})," ",o.a.createElement("strong",null,"Welcome back ",t.name,"!")):null,o.a.createElement(Le.a,{variant:"secondary",onClick:Q},"Log out"),o.a.createElement(Ee.b,{to:"/"},o.a.createElement(Le.a,{variant:"primary",className:"margin-left-10"},"Home")),o.a.createElement(Ee.b,{to:"/users"},o.a.createElement(Le.a,{variant:"primary",className:"margin-left-10"},"Users")),o.a.createElement(Ee.b,{to:"/chat"}," ",o.a.createElement(Le.a,{variant:"primary",className:"margin-left-10"},"Chat"))):null,o.a.createElement(be.d,null,o.a.createElement(be.b,{path:"/login"},o.a.createElement("div",null,o.a.createElement(ke,{setToken:f,refetchUser:q,setError:_}))),o.a.createElement(be.b,{path:"/signup"},o.a.createElement(Re,{setError:v,setToken:f,refetchUser:q})),o.a.createElement(be.b,{path:"/chat"},d?o.a.createElement(nt,{user:t}):o.a.createElement(be.a,{to:"/login"})),o.a.createElement(be.b,{path:"/users/:id"},d?o.a.createElement(ot,{setMessageHeader:k,emptyMessageHeader:H}):o.a.createElement(be.a,{to:"/login"})),o.a.createElement(be.b,{path:"/users"},d?o.a.createElement(at,null):o.a.createElement(be.a,{to:"/login"})),o.a.createElement(be.b,{path:"/"},o.a.createElement(Le.a,{variant:"primary",className:"add-post-button",onClick:function(){return y(!0)}},"Add Post"),d?o.a.createElement("div",null,I?o.a.createElement(Le.a,{variant:"primary",className:"updatePostsButton",onClick:z}," New posts "):null,o.a.createElement(Ze,{logout:Q,setMessageHeader:k,setMessageContent:P,emptyMessageHeader:H})):o.a.createElement(be.a,{to:"/login"})))),""!==w?o.a.createElement(st.a,{className:"message",color:"black",header:w,content:N}):null)},ut=a(170),mt=a(51),dt=a(171),ft=a(172),pt=a(325),gt=a(356),bt=a(357),Et=a(106),vt=a(353),Ot=a(354),jt=Object(Et.combineReducers)({posts:Be,user:ct,users:lt}),ht=Object(Et.createStore)(jt,Object(Ot.composeWithDevTools)(Object(Et.applyMiddleware)(vt.a))),yt=a(355),St=a(358),Ct=Object(gt.a)((function(e,t){var a=t.headers,r=localStorage.getItem("user-token");return{headers:Object(n.a)(Object(n.a)({},a),{},{authorization:r?"bearer ".concat(r):null})}})),wt=Object(bt.createUploadLink)({uri:"/graphql"}),kt=new St.a({uri:"ws://localhost:5000/graphql",options:{reconnect:!0}}),Mt=Object(ut.a)((function(e){var t=e.query,a=Object(yt.a)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation}),kt,Ct.concat(wt)),Lt=(mt.a.from([Mt]),new dt.a({cache:new ft.a,link:Ct.concat(wt)}));l.a.render(o.a.createElement(Ne.a,{store:ht},o.a.createElement(pt.a,{client:Lt},o.a.createElement(it,null))),document.getElementById("root"))}},[[375,1,2]]]);
//# sourceMappingURL=main.b45f7556.chunk.js.map